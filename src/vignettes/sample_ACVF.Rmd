---
title: "Sample Autocovariance Function"
output: pdf_document
date: "2024-08-19"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```



# Sample Autocovariance Function

The sample autocovariance function is a important tool in time series analysis. It measure the covariance between values of a time series across different lags. The function `sample_ACVF` is an implementation of sample autocovariance function.

## Example 1: small example

`X` represent a time series and `h` is a integer subset of `(-n,n)`, where `n` represents the length of `X`. By calling `sample_ACVF(X,h)` the sample autocovariance function on X for h is computed.

```{r}
X <- c(2, 4, 6, 8, 10)
h <- 2

zeitreihen::sample_ACVF(X, h)
```

The Output is the value `-0.8`, which is the computation of the `sample_ACVF` on `X` with `h`, and has named attribute `2`, which is the corresponding lag `h`.  

What happens:

* Within the function, It is checked if `X` and `h` have the required format.
* The mean of `X`, which is $\bar{x}$, is computed.
* `n` is extracted from `X`
* For each $h_i$ $\in$ `h` we compute $n^{-1} \sum_{t=1}^{n - |h_i|} (x_{t + |h_i|} - \bar{x}) \cdot (x_t - \bar{x})$
* At last, The values are returned where the *names* attribute is assigned `h`.

Required Format:

* `X` must be an atomic vector of positive length and only allows either numeric or complex values also NA, Inf or NaN aren't allowed.

* `h` must be is a numeric vector with unique values in interval `(-n,n)`, where `n` is the length of the time series `X` and NA, Inf or NaN are not allowed.

## Example 2: medium example

```{r}
X <- c(2 + 1i, 2 + 4i, 6, 8i, 10)
h <- c(0, 3, 1)

zeitreihen::sample_ACVF(X, h)
```

Hint: `sample_ACVF` doesn't return the values sorted on `h`. It returns the values in the order of `h`.

## Example 3: big example

```{r}
X <- c(0:10, 20:30, 40:50, 50:58)

zeitreihen::sample_ACVF(X)
```

Calling the `sample_ACVF`, where `h` is omitted is allowed. Within `sample_ACVF` we use the [0,n-1] for `h`. Hint: The Output will get big so mind to get only the $h_i$ that are needed.

## Example 4: Incorrect Inputs

```{r, error = TRUE}
X <- list(2, 4, 6, 8, 10)
h <- 2

zeitreihen::sample_ACVF(X, h)
```

```{r, error = TRUE}
X <- c(2, 4, 6, NA, 10)
h <- 2

zeitreihen::sample_ACVF(X, h)
```

```{r, error = TRUE}
X <- c(2, 4, 6, 8, 10)
h <- 5

zeitreihen::sample_ACVF(X, h)
```
